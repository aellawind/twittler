<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="twittler.css">
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <div id="tweets"></div>
      <script>

        $(document).ready(function(){
          

          
          // Refreshes tweets
          var refreshTweets = function() {
            var streamlength = streams.home.length - 1;
            $("#tweets").html('');
            for (var index=0; index<streamlength;index++) {
              var tweet = streams.home[index];
              var $tweet = $('<div class="tweet"></div>');
              var $tweet_timestamp = $('<div class="timestamp"></div>');
              $tweet.text('@' + tweet.user + ': ' + tweet.message);
              $tweet_timestamp.text("Created on " + tweet.created_at);
              $tweet.prependTo($("#tweets"));
              $tweet_timestamp.appendTo($tweet);
            }
          }
          

        
          // Refresh the page to see new tweets every 3 seconds
          setInterval(refreshTweets,2000);
        });

      </script>
  </body>
</html>
